/* src/styles.scss */

// =============================================================================
// Angular Material Theme Configuration - MUST BE FIRST
// =============================================================================

@use '@angular/material' as mat;

// =============================================================================
// Import Design System
// =============================================================================

@import 'styles/variables';
@import 'styles/mixins';
@import 'styles/components';

// =============================================================================
// Import Fonts
// =============================================================================

// Inter font (modern sans-serif)
// @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

// Berlin Sans FB (custom font - kept for backwards compatibility)
// @import url('https://fonts.cdnfonts.com/css/berlin-sans-fb');

/* --- Berlin Sans FB Font Definition (legacy) ---
@font-face {
  font-family: 'Berlin Sans FB';
  src: url('./assets/fonts/BRLNSR.TTF') format('ttf');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'Berlin Sans FB';
  src: url('./assets/fonts/BRLNSB.TTF') format('ttf');
  font-weight: bold;
  font-style: normal;
}
*/

// =============================================================================
// Material Theme Setup
// =============================================================================

// Include the common styles for Angular Material
@include mat.core();

// Define custom Material theme palettes
$custom-primary-palette: (
  50: #eff6ff,
  100: #dbeafe,
  200: #bfdbfe,
  300: #93c5fd,
  400: #60a5fa,
  500: #2563eb,  // Primary color
  600: #1d4ed8,
  700: #1e40af,
  800: #1e3a8a,
  900: #1e3a8a,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: rgba(black, 0.87),
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
  )
);

$custom-accent-palette: (
  50: #fffbeb,
  100: #fef3c7,
  200: #fde68a,
  300: #fcd34d,
  400: #fbbf24,
  500: #f59e0b,  // Accent color
  600: #d97706,
  700: #b45309,
  800: #92400e,
  900: #78350f,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: rgba(black, 0.87),
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
  )
);

// Create the theme object
$custom-primary: mat.m2-define-palette($custom-primary-palette, 500);
$custom-accent: mat.m2-define-palette($custom-accent-palette, 500);
$custom-warn: mat.m2-define-palette(mat.$m2-red-palette);

$custom-theme: mat.m2-define-light-theme((
  color: (
    primary: $custom-primary,
    accent: $custom-accent,
    warn: $custom-warn,
  ),
  typography: mat.m2-define-typography-config(
    $font-family: $font-family,
  ),
  density: 0,
));

// Include theme styles for core and each component
@include mat.all-component-themes($custom-theme);

// =============================================================================
// Global Styles
// =============================================================================

html {
  height: 100%;
  @include smooth-scroll;
}

body {
  height: 100%;
  margin: 0;
  font-family: $font-family;
  font-size: $text-base;
  line-height: $leading-normal;
  color: $text-primary;
  background: $background;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// =============================================================================
// Material Component Overrides
// =============================================================================

// Toolbar
.mat-toolbar {
  background: $surface !important;
  color: $text-primary !important;
  box-shadow: $shadow-sm;
}

// Card
.mat-mdc-card {
  @include card;
  padding: 0;

  .mat-mdc-card-header {
    padding: $space-6 $space-6 0;
  }

  .mat-mdc-card-content {
    padding: $space-6;
  }

  .mat-mdc-card-actions {
    padding: 0 $space-6 $space-6;
  }
}

// Button
.mat-mdc-button,
.mat-mdc-raised-button,
.mat-mdc-flat-button,
.mat-mdc-stroked-button {
  border-radius: $radius-md !important;
  font-weight: $font-medium !important;
}

// Form field
.mat-mdc-form-field {
  width: 100%;
}

.mat-mdc-text-field-wrapper {
  background: $surface;
}

// Chip
.mat-mdc-chip {
  border-radius: $radius-md !important;
}

// Dialog
.mat-mdc-dialog-container {
  border-radius: $radius-xl !important;
  box-shadow: $shadow-xl !important;
}

// Snackbar
.mat-mdc-snack-bar-container {
  border-radius: $radius-md !important;
  box-shadow: $shadow-lg !important;
}

// Menu
.mat-mdc-menu-panel {
  border-radius: $radius-md !important;
  box-shadow: $shadow-lg !important;
}

// Expansion panel
.mat-expansion-panel {
  @include card;
  margin-bottom: $space-4 !important;

  &:not(.mat-expanded) {
    box-shadow: $shadow-sm !important;
  }

  &.mat-expanded {
    box-shadow: $shadow-md !important;
  }
}

.mat-expansion-panel-header {
  padding: $space-4 $space-6 !important;

  &:hover {
    background: $surface-hover !important;
  }
}

// =============================================================================
// Utility Classes
// =============================================================================

// Scrollbar styling for main content areas
.custom-scrollbar {
  @include custom-scrollbar;
}

// Smooth transitions
.smooth-transition {
  transition: all $transition-base;
}

// Interactive elements
.interactive {
  @include interactive;
}

// Focus ring for accessibility
.focus-ring {
  @include focus-ring;
}

// Common Component Styles
@import 'variables';
@import 'mixins';

// =============================================================================
// Buttons
// =============================================================================

.btn {
  @include interactive;
  @include focus-ring;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: $space-2;
  padding: $space-2 $space-4;
  font-size: $text-sm;
  font-weight: $font-medium;
  border-radius: $radius-md;
  border: 1px solid transparent;
  cursor: pointer;
  user-select: none;
  white-space: nowrap;

  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

.btn-primary {
  background: $primary;
  color: $text-on-primary;

  &:hover:not(:disabled) {
    background: $primary-dark;
  }
}

.btn-secondary {
  background: $surface;
  color: $text-primary;
  border-color: $border;

  &:hover:not(:disabled) {
    background: $surface-hover;
    border-color: $border-dark;
  }
}

.btn-accent {
  background: $accent;
  color: $text-on-primary;

  &:hover:not(:disabled) {
    background: $accent-dark;
  }
}

.btn-ghost {
  background: transparent;
  color: $text-secondary;

  &:hover:not(:disabled) {
    background: $surface-hover;
    color: $text-primary;
  }
}

.btn-sm {
  padding: $space-1 $space-3;
  font-size: $text-xs;
}

.btn-lg {
  padding: $space-3 $space-6;
  font-size: $text-base;
}

.btn-icon {
  padding: $space-2;

  &.btn-sm {
    padding: $space-1;
  }

  &.btn-lg {
    padding: $space-3;
  }
}

// =============================================================================
// Cards
// =============================================================================

.card {
  @include card;
  padding: $space-6;
}

.card-interactive {
  @include card-hover;
}

.card-header {
  margin-bottom: $space-4;
  padding-bottom: $space-4;
  border-bottom: 1px solid $border;
}

.card-title {
  @include text-xl;
  margin: 0;
  color: $text-primary;
}

.card-description {
  @include text-sm;
  margin-top: $space-2;
  color: $text-secondary;
}

.card-body {
  margin-bottom: $space-4;

  &:last-child {
    margin-bottom: 0;
  }
}

.card-footer {
  margin-top: $space-4;
  padding-top: $space-4;
  border-top: 1px solid $border;
  @include flex-end;
  gap: $space-3;
}

// =============================================================================
// Badges
// =============================================================================

.badge {
  display: inline-flex;
  align-items: center;
  gap: $space-1;
  padding: $space-1 $space-2;
  font-size: $text-xs;
  font-weight: $font-medium;
  border-radius: $radius;
  white-space: nowrap;
}

.badge-primary {
  background: $primary-lightest;
  color: $primary-dark;
}

.badge-success {
  background: rgba($success, 0.1);
  color: $success-dark;
}

.badge-error {
  background: rgba($error, 0.1);
  color: $error-dark;
}

.badge-warning {
  background: rgba($warning, 0.1);
  color: darken($warning, 20%);
}

.badge-secondary {
  background: $surface-variant;
  color: $text-secondary;
}

.badge-outline {
  background: transparent;
  border: 1.5px solid currentColor;
}

// =============================================================================
// Chips
// =============================================================================

.chip {
  display: inline-flex;
  align-items: center;
  gap: $space-2;
  padding: $space-2 $space-3;
  font-size: $text-sm;
  font-weight: $font-medium;
  border-radius: $radius-md;
  border: 1.5px solid;
  transition: all $transition-fast;
}

.chip-clickable {
  cursor: pointer;

  &:hover {
    transform: translateY(-1px);
    box-shadow: $shadow-sm;
  }
}

.chip-success {
  background: rgba($success, 0.1);
  border-color: $success;
  color: $success-dark;
}

.chip-error {
  background: rgba($error, 0.1);
  border-color: $error;
  color: $error-dark;
}

.chip-secondary {
  background: rgba($text-secondary, 0.08);
  border-color: $text-secondary;
  color: $text-secondary;
}

// =============================================================================
// Form Elements
// =============================================================================

.form-group {
  margin-bottom: $space-4;
}

.form-label {
  display: block;
  margin-bottom: $space-2;
  font-size: $text-sm;
  font-weight: $font-medium;
  color: $text-primary;
}

.form-helper {
  margin-top: $space-2;
  font-size: $text-xs;
  color: $text-secondary;
}

.form-error {
  margin-top: $space-2;
  font-size: $text-xs;
  color: $error;
}

// =============================================================================
// Loading States
// =============================================================================

.skeleton {
  @include skeleton;
  border-radius: $radius;

  &.skeleton-text {
    height: 1em;
    margin-bottom: $space-2;
  }

  &.skeleton-title {
    height: 1.5em;
    width: 60%;
    margin-bottom: $space-3;
  }

  &.skeleton-card {
    height: 200px;
  }

  &.skeleton-circle {
    border-radius: $radius-full;
  }
}

.spinner {
  @include flex-center;

  &::after {
    content: '';
    width: 24px;
    height: 24px;
    border: 3px solid $border;
    border-top-color: $primary;
    border-radius: $radius-full;
    animation: spin 0.8s linear infinite;
  }

  &.spinner-sm::after {
    width: 16px;
    height: 16px;
    border-width: 2px;
  }

  &.spinner-lg::after {
    width: 32px;
    height: 32px;
    border-width: 4px;
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

// =============================================================================
// Empty States
// =============================================================================

.empty-state {
  @include flex-column;
  @include flex-center;
  padding: $space-12 $space-6;
  text-align: center;

  .empty-state-icon {
    width: 64px;
    height: 64px;
    margin-bottom: $space-4;
    color: $text-disabled;
  }

  .empty-state-title {
    @include text-lg;
    margin-bottom: $space-2;
    color: $text-primary;
  }

  .empty-state-description {
    @include text-sm;
    margin-bottom: $space-6;
    color: $text-secondary;
    max-width: 400px;
  }
}

// =============================================================================
// Dividers
// =============================================================================

.divider {
  height: 1px;
  background: $divider;
  border: none;
  margin: $space-4 0;

  &.divider-vertical {
    width: 1px;
    height: auto;
    margin: 0 $space-4;
  }
}

// =============================================================================
// Utility Classes
// =============================================================================

// Flexbox utilities
.flex {
  display: flex;
}

.flex-center {
  @include flex-center;
}

.flex-between {
  @include flex-between;
}

.flex-start {
  @include flex-start;
}

.flex-end {
  @include flex-end;
}

.flex-column {
  @include flex-column;
}

// Gap utilities
.gap-1 { gap: $space-1; }
.gap-2 { gap: $space-2; }
.gap-3 { gap: $space-3; }
.gap-4 { gap: $space-4; }
.gap-6 { gap: $space-6; }
.gap-8 { gap: $space-8; }

// Text utilities
.truncate {
  @include truncate;
}

.line-clamp-2 {
  @include line-clamp(2);
}

.line-clamp-3 {
  @include line-clamp(3);
}

// Visibility utilities
.sr-only {
  @include sr-only;
}

// Responsive utilities
.mobile-only {
  @include tablet {
    display: none !important;
  }

  @include desktop {
    display: none !important;
  }
}

.desktop-only {
  @include mobile {
    display: none !important;
  }

  @include tablet {
    display: none !important;
  }
}
